"use strict";(self.webpackChunkkamui_customizer=self.webpackChunkkamui_customizer||[]).push([[184],{9184:(K,f,a)=>{a.r(f),a.d(f,{KamuiModule:()=>H});var l=a(6814),p=a(4427),x=a(2096),u=function(r){return r.Female1="b_female1",r.Female2="b_female2",r.Male1="b_male1",r.Male2="b_male2",r}(u||{}),e=function(r){return r.HairClip="o_hairclip",r.Hair="o_hair",r.Sweat="o_sweat",r.Blush="o_blush",r.Features="o_features",r.Expressions="o_expressions",r.Body="o_body",r}(e||{}),c=function(r){return r.Normal="e_normal",r.Smile="e_smile",r.Pained="e_pained",r.Angry="e_angry",r.Indignant="e_indignant",r}(c||{});const i={[e.Body]:{title:"Face",count:7,path:"body"},[e.Hair]:{title:"Hair",count:12,path:"hair",colorSettings:{options:["#F1EFE6","#C35654","#D1876A","#E9D7C1","#A6D1A2","#7AB6C0","#90A6CF","#C9A0D1","#F9D7DB","#C1A798","#9FA0A1","#9B3F42","#996049","#CABFA2","#698059","#377781","#4A5877","#81608A","#EAAFB2","#817062","#5A5850","#E75860","#F1976E","#E9D699","#89CE84","#7FE0DB","#4881B3","#AB7ED3","#F28FA9","#69473D"]}},[e.HairClip]:{title:"Hair Clip",count:5,path:"hairclip",canBeBlank:!0},[e.Features]:{title:"Facial Features",count:12,path:"features",canBeBlank:!0},[e.Expressions]:{title:"Expressions",path:"body",childOptions:{[c.Normal]:{title:"Default",path:"normal"},[c.Smile]:{title:"Smile",path:"smile"},[c.Pained]:{title:"Pained",path:"pained"},[c.Angry]:{title:"Angry",path:"angry"},[c.Indignant]:{title:"Indignant",path:"indignant"}},dependsOn:e.Body},[e.Sweat]:{title:"Sweat",path:"sweat",toggleable:!0},[e.Blush]:{title:"Blush",path:"blush",toggleable:!0}},m="CORN",g=[e.Hair,e.HairClip,e.Body,e.Features,e.Expressions,e.Blush,e.Sweat],_=[e.HairClip,e.Hair,e.Features,e.Sweat,e.Blush,e.Expressions,e.Body],h={[u.Female1]:{title:"Female 1",path:"female1",offset:{x:0,y:0},options:{[e.Body]:{...i[e.Body],offset:{x:0,y:0}},[e.Hair]:{...i[e.Hair],offset:{x:0,y:0}},[e.HairClip]:{...i[e.HairClip],offset:{x:128,y:27}},[e.Features]:{...i[e.Features],offset:{x:0,y:0}},[e.Expressions]:{...i[e.Expressions],offset:{x:0,y:0}},[e.Sweat]:{...i[e.Sweat],offset:{x:130,y:85}},[e.Blush]:{...i[e.Blush],offset:{x:96,y:64}}}},[u.Female2]:{title:"Female 2",path:"female2",offset:{x:0,y:0},options:{[e.Body]:{...i[e.Body],offset:{x:0,y:0}},[e.Hair]:{...i[e.Hair],offset:{x:0,y:0}},[e.HairClip]:{...i[e.HairClip],offset:{x:128,y:27}},[e.Features]:{...i[e.Features],offset:{x:0,y:0}},[e.Expressions]:{...i[e.Expressions],offset:{x:0,y:0}},[e.Sweat]:{...i[e.Sweat],offset:{x:131,y:101}},[e.Blush]:{...i[e.Blush],offset:{x:96,y:75}}}},[u.Male1]:{title:"Male 1",path:"male1",offset:{x:0,y:0},options:{[e.Body]:{...i[e.Body],offset:{x:0,y:0}},[e.Hair]:{...i[e.Hair],offset:{x:0,y:0}},[e.Features]:{...i[e.Features],offset:{x:0,y:0}},[e.Expressions]:{...i[e.Expressions],offset:{x:0,y:0}},[e.Sweat]:{...i[e.Sweat],offset:{x:133,y:79}},[e.Blush]:{...i[e.Blush],offset:{x:90,y:45}}}},[u.Male2]:{title:"Male2",path:"male2",offset:{x:0,y:0},options:{[e.Body]:{...i[e.Body],offset:{x:0,y:0}},[e.Hair]:{...i[e.Hair],offset:{x:0,y:0}},[e.Features]:{...i[e.Features],offset:{x:0,y:0}},[e.Expressions]:{...i[e.Expressions],offset:{x:0,y:0}},[e.Sweat]:{...i[e.Sweat],offset:{x:134,y:70}},[e.Blush]:{...i[e.Blush],offset:{x:87,y:42}}}}};var t=a(4769),b=a(8091),k=a(1241),z=a(6018);let y=(()=>{class r{constructor(o,n,d){this.loader=o,this.store=n,this.baseHref=d,this.cornPath=this.baseHref.getBasePath("assets/corn"),this.ext="png",this.cornConfig={rootKey:m,rootPath:this.cornPath,imageType:this.ext,menuOrder:g,layerOrder:_,dimensions:{x:255,y:255},bodyOptions:h}}getCorrinConfig(){const o=this.store.getConfig(m);return o?(0,x.of)(o):this.loader.getConfig(this.cornConfig)}cacheCorn(o){this.store.setConfig(m,o)}}return r.\u0275fac=function(o){return new(o||r)(t.LFG(b.D),t.LFG(k.d),t.LFG(z.I))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var v=a(9340),C=a(870);function F(r,s){1&r&&(t.TgZ(0,"p",6),t._uU(1," Corrin is mirrored on desktop view to match the Fates character creator interface.\n"),t.qZA())}function B(r,s){if(1&r){const o=t.EpF();t.TgZ(0,"fec-renderer",7),t.NdJ("image",function(d){t.CHM(o);const E=t.oxw();return t.KtG(E.setImage(d))}),t.qZA()}if(2&r){const o=t.oxw();t.Q6J("config",o.config.data)("complete",o.config.complete)}}function w(r,s){if(1&r){const o=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){t.CHM(o);const d=t.oxw();return t.KtG(d.save())}),t._uU(1,"Save"),t.qZA()}}let S=(()=>{class r{constructor(o,n){this.configService=o,this.fileService=n,this.baseClass=!0}ngOnInit(){this.config$=this.configService.getCorrinConfig(),this.configSubscription=this.config$.subscribe(o=>{this.config=o,1===o.complete&&this.configService.cacheCorn(o)})}ngOnDestroy(){this.configSubscription&&this.configSubscription.unsubscribe()}setImage(o){this.image=o}save(){this.fileService.save(this.image,"corn.png")}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(y),t.Y36(v.I))},r.\u0275cmp=t.Xpm({type:r,selectors:[["fecustomizer-engine-kamui"]],hostVars:2,hostBindings:function(o,n){2&o&&t.ekj("kamui-customizer",n.baseClass)},decls:8,vars:3,consts:[[1,"kamui-customizer__header"],["src","./assets/ui/corn/logo.svg",1,"kamui-customizer__fates-logo"],["class","kamui-customizer__help-text",4,"ngIf"],[1,"kamui-customizer__content"],["class","kamui-customizer__renderer",3,"config","complete","image",4,"ngIf"],["class","kamui-customizer__save",3,"click",4,"ngIf"],[1,"kamui-customizer__help-text"],[1,"kamui-customizer__renderer",3,"config","complete","image"],[1,"kamui-customizer__save",3,"click"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0),t._UZ(1,"img",1),t.TgZ(2,"h1"),t._uU(3,"KamuiCustomizer V2.0"),t.qZA()(),t.YNc(4,F,2,0,"p",2),t.TgZ(5,"div",3),t.YNc(6,B,1,2,"fec-renderer",4),t.YNc(7,w,2,0,"button",5),t.qZA()),2&o&&(t.xp6(4),t.Q6J("ngIf",n.config.data),t.xp6(2),t.Q6J("ngIf",n.config),t.xp6(1),t.Q6J("ngIf",n.config.data))},dependencies:[l.O5,C.J],styles:['@keyframes color-button-anim{0%{box-shadow:inset 0 0 5px 2px #ffffffb3}50%{box-shadow:inset 0 0 #fff0}to{box-shadow:inset 0 0 5px 2px #ffffffb3}}.kamui-customizer,.kamui-customizer button{font-family:fot-chiaro-std,sans-serif;font-size:1.4rem;line-height:1.6rem;color:var(--fe-customizer--kamui-text, #450900)}.kamui-customizer{display:flex;flex-direction:column;min-height:100%;width:100%;align-items:center}.kamui-customizer .kamui-customizer__header{margin:12px;position:relative;min-width:300px}.kamui-customizer .kamui-customizer__header h1{font-weight:700;font-size:4rem;line-height:4.8rem;text-align:center;margin-top:24px;margin-bottom:8px;color:var(--fe-customizer--kamui-text, #450900)}.kamui-customizer .kamui-customizer__fates-logo{position:absolute;width:200px;z-index:-1;left:50%;transform:translate(-50%);fill:#844b27}.kamui-customizer .kamui-customizer__content{position:relative}.kamui-customizer .kamui-customizer__save{position:absolute;top:24px;left:24px;border-radius:10px;border:rgba(0,0,0,.5);background:#450900;color:#ffdabd;padding:3px 8px;box-shadow:0 3px 2px #0003}.kamui-customizer .kamui-customizer__save:hover,.kamui-customizer .kamui-customizer__save:active{background:#f5422e}.kamui-customizer .kamui-customizer__renderer.fec-renderer--loaded{margin:12px;position:relative;max-width:100%;min-width:300px;padding:0;flex-direction:row;gap:6px;background:rgb(113,228,247);background:linear-gradient(180deg,rgb(113,228,247) 0%,rgb(62,180,238) 10%,rgb(23,96,113) 20%,rgb(10,56,71) 49%,rgb(1,32,34) 78%,rgb(13,49,71) 85%,rgb(89,116,133) 91%,rgb(146,159,167) 100%);border:2px solid #450900;border-radius:2px}.kamui-customizer .kamui-customizer__renderer.fec-renderer--loaded:after{content:"";box-sizing:border-box;position:absolute;padding:12px;height:calc(100% + 24px);width:calc(100% + 24px);top:-12px;left:-12px;z-index:-1;background:rgb(132,75,39);background:linear-gradient(180deg,rgb(132,75,39) 0%,rgb(244,212,129) 34%,rgb(244,212,129) 46%,rgb(132,75,39) 100%);border:2px solid #450900}.kamui-customizer .kamui-customizer__renderer.fec-renderer--loaded .fec-renderer__canvas-container{display:flex;transform:rotateY(180deg);align-self:flex-end}.kamui-customizer .kamui-customizer__renderer.fec-renderer--loaded .fec-renderer__controls{border-radius:3px;padding:12px;background-color:#d7a75d;border:1px solid #9f4a23;box-shadow:inset 0 0 20px 10px #9f4a23,0 3px 2px #00000080;margin:12px}.kamui-customizer .kamui-customizer__renderer.fec-renderer--loaded .fec-renderer__options{margin:6px 0;gap:6px}.kamui-customizer .kamui-customizer__renderer.fec-renderer--loaded .fec-options-select{height:20px;gap:3px}.kamui-customizer .kamui-customizer__renderer.fec-renderer--loaded fec-color-select{margin-top:6px}.kamui-customizer .kamui-customizer__renderer.fec-renderer--loaded .fec-options-select__title{box-shadow:inset 0 0 10px #cea758,0 0 20px #f4d481;background:#fce9a7;border-radius:5px;padding:0;border:1px solid #cea758}.kamui-customizer .kamui-customizer__renderer.fec-renderer--loaded .fec-options-select__title .color-options-palette__select{border:0;background:0;animation:3s infinite linear color-button-anim;cursor:pointer;border-radius:3px}.kamui-customizer .kamui-customizer__renderer.fec-renderer--loaded .fec-options-select__title .color-options-palette__select:hover,.kamui-customizer .kamui-customizer__renderer.fec-renderer--loaded .fec-options-select__title .color-options-palette__select:focus{background:rgba(255,255,255,.5)}.kamui-customizer .kamui-customizer__renderer.fec-renderer--loaded .fec-options-select__button{position:relative;border:1px solid #774314;box-shadow:inset 0 0 5px #774314;background-color:#450900;color:#ffdabd;border-radius:5px;z-index:2;cursor:pointer}.kamui-customizer .kamui-customizer__renderer.fec-renderer--loaded .fec-options-select__button:hover,.kamui-customizer .kamui-customizer__renderer.fec-renderer--loaded .fec-options-select__button:active{background:#f5422e;border:1px solid #a3350e}.kamui-customizer .kamui-customizer__renderer.fec-renderer--loaded .fec-options-select--disabled{opacity:.5}.kamui-customizer .kamui-customizer__renderer.fec-renderer--loaded .fec-options-select--disabled .fec-options-select__button:hover{background:#450900;border:1px solid #774314}.kamui-customizer .kamui-customizer__renderer.fec-renderer--loaded .fec-options-select--disabled .fec-options-select__button{cursor:default}.kamui-customizer .kamui-customizer__renderer.fec-renderer--loaded .fec-options-select__previous:before{border-right-color:#ffdabd}.kamui-customizer .kamui-customizer__renderer.fec-renderer--loaded .fec-options-select__next:before{border-left-color:#ffdabd}.kamui-customizer .kamui-customizer__renderer.fec-renderer--loaded .color-options-palette__options{background-color:#fce9a7;border-radius:5px;box-shadow:inset 0 0 5px #cea758,0 3px 2px #0003}.kamui-customizer .kamui-customizer__renderer.fec-renderer--loaded .fec-renderer__randomize{position:relative;color:#fce9a7;background:#07431f;box-shadow:inset 0 0 1px #ffffffb3,0 3px 2px #0003;border:1px solid rgba(0,0,0,.3);z-index:2;border-radius:3px;padding:3px;cursor:pointer}.kamui-customizer .kamui-customizer__renderer.fec-renderer--loaded .fec-renderer__randomize:hover,.kamui-customizer .kamui-customizer__renderer.fec-renderer--loaded .fec-renderer__randomize:active{background:#f5422e}.kamui-customizer .kamui-customizer__help-text{max-width:600px;width:100%;padding:12px;margin:0 auto;text-align:center}.kamui-customizer .fec-renderer__loading{padding:24px;color:#844b27;font-size:3.2rem;line-height:3.2rem;text-align:center;text-transform:capitalize}@media screen and (max-width: 600px){.kamui-customizer .kamui-customizer__renderer.fec-renderer{flex-direction:column;gap:0px}.kamui-customizer .kamui-customizer__renderer.fec-renderer .fec-renderer__controls{margin:0 0 8px}.kamui-customizer .kamui-customizer__renderer.fec-renderer .fec-renderer__canvas-container{transform:none}}@media screen and (max-width: 360px){.kamui-customizer .kamui-customizer__header h1{font-size:36px;line-height:40px}}\n'],encapsulation:2}),r})();var A=a(4339);let H=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[l.ez,A.K,p.Bz.forChild([{path:"",pathMatch:"full",component:S}])]}),r})()}}]);